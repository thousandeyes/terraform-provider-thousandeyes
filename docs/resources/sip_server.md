---
page_title: "thousandeyes_sip_server Resource - terraform-provider-thousandeyes"
subcategory: ""
description: |-
---

# thousandeyes_sip_server (Resource)

This resource allows you to create a SIP server test. This test type checks for the availability and performance of a VoIP SIP server, confirms the ability to perform SIP Register with a target server, and observes the requests and responses. For more information, see [SIP Server Tests](https://docs.thousandeyes.com/product-documentation/internet-and-wan-monitoring/tests#sip-server-test).

## Example Usage

```terraform
resource "thousandeyes_sip_server" "example_sip_server_test" {
  test_name      = "Example SIP server test set from Terraform provider"
  interval       = 120
  alerts_enabled = false

  target_sip_credentials {
    auth_user     = ""
    protocol      = "TCP"
    port          = 5060
    sip_registrar = "example.org"
  }

  agents {
    agent_id = 3 # Singapur
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `agents` (Block Set, Min: 1) The list of ThousandEyes agents to use. (see [below for nested schema](#nestedblock--agents))
- `interval` (Number) The interval to run the test on, in seconds.
- `target_sip_credentials` (Block List, Min: 1, Max: 1) The Target SIP server credentials. (see [below for nested schema](#nestedblock--target_sip_credentials))
- `test_name` (String) The name of the test.

### Optional

- `alert_rules` (Block Set) Gets the ruleId from the /alert-rules endpoint. If alertsEnabled is set to 'true' and alertRules is not included in a creation/update query, the applicable defaults will be used. (see [below for nested schema](#nestedblock--alert_rules))
- `alerts_enabled` (Boolean) Set to 'true' to enable alerts, or 'false' to disable alerts. The default value is 'true'.
- `bandwidth_measurements` (Boolean) Set to 1 to measure bandwidth. This only applies to Enterprise Agents assigned to the test, and requires that networkMeasurements is set. Defaults to 'false'.
- `bgp_measurements` (Boolean) Enable BGP measurements. Set to true for enabled, false for disabled.
- `description` (String) A description of the alert rule. Defaults to an empty string.
- `enabled` (Boolean) Enables or disables the test.
- `groups` (Block List) The array of label objects. (see [below for nested schema](#nestedblock--groups))
- `mtu_measurements` (Boolean) Measure MTU sizes on the network from agents to the target.
- `network_measurements` (Boolean) Set to 'true' to enable network measurements.
- `num_path_traces` (Number) The number of path traces.
- `options_regex` (String) A regex string of options. This field does not require escaping.
- `path_trace_mode` (String) [classic or inSession] Choose 'inSession' to perform the path trace within a TCP session. Default value is 'classic'.
- `probe_mode` (String) [AUTO, SACk, or SYN] The probe mode used by end-to-end network tests. This is only valid if the protocol is set to TCP. The default value is AUTO.
- `register_enabled` (Boolean) Configure whether to perform SIP registration on the test target with the SIP REGISTER command. Default value is 'false'.
- `shared_with_accounts` (Block List) [“serverName”: “fqdn of server”] The array of DNS Server objects. (see [below for nested schema](#nestedblock--shared_with_accounts))
- `sip_target_time` (Number) The target time for test completion, specified in milliseconds.
- `sip_time_limit` (Number) The test time limit. Can be between 5 and 10 seconds, and defaults to 5 seconds.
- `use_public_bgp` (Boolean) Enable to automatically add all available Public BGP Monitors to the test.

### Read-Only

- `api_links` (List of Object) Self links to the endpoint to pull test metadata, and data links to the endpoint for test data. Read-only, and shows rel and href elements. (see [below for nested schema](#nestedatt--api_links))
- `created_by` (String) Created by user.
- `created_date` (String) The date of creation.
- `id` (String) The ID of this resource.
- `live_share` (Boolean) Set to 'true' for a test shared with your account group, or to 'false' for a normal test.
- `modified_by` (String) Last modified by this user.
- `modified_date` (String) The date the test was last modified. Shown in UTC.
- `saved_event` (Boolean) Set to 'true' for a saved event, or to 'false' for a normal test.
- `test_id` (Number) The unique ID of the test.
- `type` (String) The type of test.

<a id="nestedblock--agents"></a>
### Nested Schema for `agents`

Optional:

- `agent_id` (Number) The unique ID for the ThousandEyes agent.
- `agent_name` (String) The name of the agent.
- `agent_state` (String) Defines whether the agent's status is online, offline, or disabled.
- `cluster_members` (Block List) Detailed information about each cluster member, shown as an array. This field is not shown for Enterprise Agents in standalone mode, or for Cloud Agents. (see [below for nested schema](#nestedblock--agents--cluster_members))
- `country_id` (String) The two-digit ISO country code of the agent.
- `created_date` (String) The date the agent was created. Expressed in UTC (yyyy-MM-dd hh:mm:ss).
- `enabled` (Boolean) Shows whether the agent is enabled or disabled.
- `error_details` (Block List) If one or more errors present in the agent, the error details are shown for each as an array. (see [below for nested schema](#nestedblock--agents--error_details))
- `groups` (Block List) An array of label objects. (see [below for nested schema](#nestedblock--agents--groups))
- `hostname` (String) Fully qualified domain name of the agent.
- `ip_addresses` (List of String) An array of the ipAddress entries.
- `ipv6_policy` (String) [FORCE_IPV4, PREFER_IPV6 or FORCE_IPV6] The IP version policy.
- `keep_browser_cache` (Boolean) Defines whether the browser cache should be kept. Either 1 for enabled or 0 for disabled.
- `last_seen` (String) The last time the agent connected with ThousandEyes. Shown in UTC (yyyy-MM-dd hh:mm:ss).
- `location` (String) The location of the agent.
- `network` (String) The name of the autonomous system in which the agent is found.
- `prefix` (String) The network prefix, expressed in CIDR format.
- `target_for_tests` (String) The target IP address or domain name representing the test destination when the agent is acting as a test target in an agent-to-agent test.
- `utilization` (Number) Shows the overall utilization percentage.
- `verify_ssl_certificate` (Boolean) Shows whether the SSL certificate needs to be verified. 1 for enabled and 0 for disabled.

Read-Only:

- `agent_type` (String) The type of ThousandEyes agent. Default value is enterprise.

<a id="nestedblock--agents--cluster_members"></a>
### Nested Schema for `agents.cluster_members`

Optional:

- `agent_state` (String) Defines whether the agent's status is online, offline, or disabled.
- `ip_addresses` (List of String) The array of ipAddress entries.
- `last_seen` (String) The last time the agent connected with ThousandEyes. Uses UTC (yyyy-MM-dd hh:mm:ss).
- `member_id` (Number) The unique ID of the cluster member.
- `name` (String) The name of the cluster member.
- `network` (String) The name of the autonomous system in which the Enterprise Agent is found (Enterprise Agents only).
- `prefix` (String) The network prefix, in CIDR format (Enterprise Agents only).
- `public_ip_addresses` (List of String) The array of public ipAddress entries.
- `target_for_tests` (String) The target IP address or domain name. Represents the test's destination when the agent is acting as a test target in an agent-to-agent test.
- `utilization` (Number) Shows the overall utilization percentage of a cluster member.


<a id="nestedblock--agents--error_details"></a>
### Nested Schema for `agents.error_details`

Optional:

- `code` (String) [AGENT_VERSION_OUTDATED, APPLIANCE_VERSION_OUTDATED, BROWSERBOT_VERSION_OUTDATED, CLOCK_OFFSET, NAT_TRAVERSAL_ERROR, OS_END_OF_INSTALLATION_SUPPORT, OS_END_OF_SUPPORT, or OS_END_OF_LIFE] The error code.
- `description` (String) A detailed explanation of the error code.


<a id="nestedblock--agents--groups"></a>
### Nested Schema for `agents.groups`

Optional:

- `builtin` (Number) Shows whether you are using built-in (1) labels or user-created (2) labels. Built-in labels are read-only.
- `group_id` (Number) The unique ID of the label. This number is negative for built-in labels. Query the /groups/{id} endpoint to see a list of agents/tests with this label.
- `name` (String) The name of the label.
- `type` (String) [tests, agents, endpoint_tests or endpoint_agents] The type of label.



<a id="nestedblock--target_sip_credentials"></a>
### Nested Schema for `target_sip_credentials`

Required:

- `auth_user` (String) The username for authentication with the SIP server.
- `protocol` (String) [TCP, TLS, or UDP] The transport layer for SIP communication. Can be either TCP, TLS (TLS over TCP), or UDP, and defaults to TCP.
- `sip_registrar` (String) The SIP server to be tested, specified by domain name or IP address.

Optional:

- `password` (String) The password to be used to authenticate with the destination server.
- `port` (Number) The target port.
- `sip_proxy` (String) The SIP proxy. This is distinct from the SIP server, and is specified as a domain name or IP address.
- `user` (String) The username for SIP registration. This should be unique within a ThousandEyes account group.


<a id="nestedblock--alert_rules"></a>
### Nested Schema for `alert_rules`

Optional:

- `rule_id` (Number) The unique ID of the alert rule.


<a id="nestedblock--groups"></a>
### Nested Schema for `groups`

Required:

- `group_id` (Number) The unique ID of the label

Optional:

- `agents` (Block List) Define the ThousandEyes agents to use. (see [below for nested schema](#nestedblock--groups--agents))
- `name` (String) The name of the label.
- `tests` (Block List) The list of tests. (see [below for nested schema](#nestedblock--groups--tests))
- `type` (String) [tests, agents, endpoint_tests, or endpoint_agents] The type of label.

Read-Only:

- `builtin` (Boolean) Shows whether you are using built-in (true) labels or user-created (false) labels. Built-in labels are read-only.

<a id="nestedblock--groups--agents"></a>
### Nested Schema for `groups.agents`

Optional:

- `agent_id` (Number) The unique ThousandEyes agent ID.


<a id="nestedblock--groups--tests"></a>
### Nested Schema for `groups.tests`

Optional:

- `test_id` (Number) The unique ID of the test.



<a id="nestedblock--shared_with_accounts"></a>
### Nested Schema for `shared_with_accounts`

Required:

- `aid` (Number) The account group ID.

Read-Only:

- `name` (String) The name of account.


<a id="nestedatt--api_links"></a>
### Nested Schema for `api_links`

Read-Only:

- `href` (String)
- `rel` (String)


