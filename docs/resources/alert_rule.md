---
page_title: "thousandeyes_alert_rule Resource - terraform-provider-thousandeyes"
subcategory: ""
description: |-
---

# thousandeyes_alert_rule (Resource)

This resource allows you to create alert rules for ThousandEyes alerts. Alert rules define what alerts are sent, when, and to whom. For more information, see [Alert Rules](https://docs.thousandeyes.com/product-documentation/alerts#rule-configuration).

## Example Usage

```terraform
resource "thousandeyes_alert_rule" "example_alert_rule" {
  rule_name  = "Example Alert Rule set from Terraform provider"
  alert_type = "HTTP Server"

  expression = "((errorType != \"None\"))" # Error Type is ANY

  rounds_violating_required = 1
  rounds_violating_out_of   = 1
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `alert_type` (String) [Page Load, HTTP Server, End-to-End (Server), End-to-End (Agent), DNS Server, DNS Trace, DNSSEC, Transactions, Web Transactions, BGP, Path Trace, FTP, SIP Server] The type of alert rule. Acceptable values include the verbose names of supported tests.
- `expression` (String) The alert rule evaluation expression.
- `rounds_violating_out_of` (Number) Specifies the divisor (Y value) of the “X of Y times” condition in an alert rule.  Minimum value is 1, maximum value is 10.
- `rounds_violating_required` (Number) Specifies the numerator (X value) of the “X of Y times” condition in an alert rule.  Minimum value is 1, maximum value is 10. Must be less than or equal to 'roundsViolatingOutOf'.
- `rule_name` (String) The name of the alert rule.

### Optional

- `default` (Boolean) Alert rules allow up to 1 alert rule to be selected as a default for each type. By marking an alert rule as default, the rule will be automatically included in subsequently created tests that test a metric used in the alert rule.
- `direction` (String) [TO_TARGET, FROM_TARGET, BIDIRECTIONAL] The direction of the test (affects how results are shown).
- `include_covered_prefixes` (Boolean) Include queries for subprefixes detected under this prefix.
- `minimum_sources` (Number) The minimum number of agents or monitors that must meet the specified criteria in order to trigger an alert. This option is mutually exclusive with 'minimum_sources_pct'.
- `minimum_sources_pct` (Number) The minimum percentage of agents or monitors that must meet the specified criteria in order to trigger an alert. This option is mutually exclusive with 'minimum_sources'.
- `notifications` (Block Set) The list of notifications for the alert rule. (see [below for nested schema](#nestedblock--notifications))
- `notify_on_clear` (Boolean) Set to 'true' to trigger the notification when the alert clears.
- `rounds_violating_mode` (String) [ANY or EXACT] Defines whether the same agent(s) must meet the EXACT same threshold in consecutive rounds or not. The default value is ANY.
- `severity` (String) [INFO, MINOR, MAJOR or CRITICAL] The severity level of the alert rule. The default value is INFO.
- `test_ids` (List of Number) The valid test IDs.

### Read-Only

- `alert_rule_id` (Number) The unique ID of the alert rule.
- `id` (String) The ID of this resource.
- `rule_id` (Number) The unique ID of the alert rule.

<a id="nestedblock--notifications"></a>
### Nested Schema for `notifications`

Optional:

- `email` (Block Set) The email notification. (see [below for nested schema](#nestedblock--notifications--email))
- `third_party` (Block Set) Third party notification. (see [below for nested schema](#nestedblock--notifications--third_party))

<a id="nestedblock--notifications--email"></a>
### Nested Schema for `notifications.email`

Optional:

- `message` (String) The contents of the email, as a string.
- `recipient` (Set of String) The email addresses to send the notification to.


<a id="nestedblock--notifications--third_party"></a>
### Nested Schema for `notifications.third_party`

Required:

- `integration_id` (String) The integration ID, as a string.
- `integration_type` (String) The integration type, as a string.


