---
page_title: "thousandeyes_http_server Resource - terraform-provider-thousandeyes"
subcategory: ""
description: |-
---

# thousandeyes_http_server (Resource)

This resource allows you to create an HTTP server test. This test type measures the availability and performance of an HTTP service. For more information, see [HTTP Server Tests](https://docs.thousandeyes.com/product-documentation/internet-and-wan-monitoring/tests#http-server-test).

## Example Usage

```terraform
resource "thousandeyes_http_server" "example_http_server_test" {
  test_name      = "Example HTTP test set from Terraform provider"
  interval       = 120
  alerts_enabled = false
  url            = "https://www.thousandeyes.com"
  agents         = ["3"] # Singapore
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `agents` (Set of String) The list of ThousandEyes agent IDs to use.
- `interval` (Number) The interval to run the test on, in seconds.
- `url` (String) The target URL for the test.

### Optional

- `agent_interfaces` (Block Set) Agent interfaces (see [below for nested schema](#nestedblock--agent_interfaces))
- `alert_rules` (Set of String) List of alert rules IDs to apply to the test (get `ruleId` from `/alerts/rules` endpoint. If `alertsEnabled` is set to `true` and `alertRules` is not included on test creation or update, applicable user default alert rules will be used)
- `alerts_enabled` (Boolean) Set to 'true' to enable alerts, or 'false' to disable alerts. The default value is 'true'.
- `allow_unsafe_legacy_renegotiation` (Boolean) Allows TLS renegotiation with servers not supporting RFC 5746. Default Set to true to allow unsafe legacy renegotiation.
- `auth_type` (String) [none, basic, ntlm, kerberos, oauth] The HTTP authentication type. Defaults to 'none'.
- `bandwidth_measurements` (Boolean) Set to `true` to measure bandwidth. This only applies to Enterprise Agents assigned to the test, and requires that networkMeasurements is set. Defaults to 'false'.
- `bgp_measurements` (Boolean) Enable BGP measurements. Set to true for enabled, false for disabled.
- `client_certificate` (String) String representation (containing newline characters) of the client certificate, if used.
- `collect_proxy_network_data` (Boolean) Indicates whether network data to the proxy should be collected.
- `content_regex` (String) Verify content using a regular expression. This field does not require escaping.
- `custom_headers` (Block Set) The custom headers. (see [below for nested schema](#nestedblock--custom_headers))
- `description` (String) A description of the alert rule. Defaults to an empty string.
- `desired_status_code` (String) The valid HTTP response code youâ€™re interested in retrieving.
- `dns_override` (String) The IP address to use for DNS override.
- `download_limit` (Number) Specify the maximum number of bytes to download from the target object.
- `enabled` (Boolean) Enables or disables the test.
- `fixed_packet_rate` (Number) Sets packets rate sent to measure the network in packets per second.
- `follow_redirects` (Boolean) Follow HTTP/301 or HTTP/302 redirect directives. Defaults to 'true'.
- `headers` (Set of String, Sensitive) ["header: value", "header2: value"] The array of header strings.
- `http_target_time` (Number) The target time for HTTP server completion, specified in milliseconds.
- `http_time_limit` (Number) The target time for HTTP server limits, specified in seconds.
- `http_version` (Number) Set to 2 for the default HTTP version (prefer HTTP/2), or 1 for HTTP/1.1 only.
- `include_headers` (Boolean) Set to 'true' to capture response headers for objects loaded by the test.
- `ipv6_policy` (String) [force-ipv4, prefer-ipv6, force-ipv6, or use-agent-policy] IP version policy. Overrides the IPv6 policy configured at the agent level.
- `monitors` (Set of String) Contains list of BGP monitor IDs (get `monitorId` from `/monitors` endpoint)
- `mtu_measurements` (Boolean) Measure MTU sizes on the network from agents to the target.
- `network_measurements` (Boolean) Set to 'true' to enable network measurements.
- `num_path_traces` (Number) The number of path traces.
- `oauth` (Block Set) Use this only if you want to use OAuth as the authentication mechanism. (see [below for nested schema](#nestedblock--oauth))
- `override_agent_proxy` (Boolean) Flag indicating if a proxy other than the default should be used. To override the default proxy for agents, set to `true` and specify a value for `overrideProxyId`.
- `override_proxy_id` (String) ID of the proxy to be used if the default proxy is overridden.
- `password` (String, Sensitive) The password to be used to authenticate with the destination server.
- `path_trace_mode` (String) [classic or in-session] Choose 'inSession' to perform the path trace within a TCP session. Default value is 'classic'.
- `post_body` (String) The POST body content. No escaping is required. If the post body is set to something other than empty, the requestMethod will be set to POST.
- `probe_mode` (String) [auto, sack, or syn] The probe mode used by end-to-end network tests. This is only valid if the protocol is set to TCP. The default value is AUTO.
- `protocol` (String) The protocol used by dependent network tests (end-to-end, path trace, PMTUD). Default value is tcp.
- `randomized_start_time` (Boolean) Indicates whether agents should randomize the start time in each test round.
- `shared_with_accounts` (Set of String) List of accounts
- `ssl_version_id` (String) Defines the SSL version. 0 for auto, 3 for SSLv3, 4 for TLS v1.0, 5 for TLS v1.1, 6 for TLS v1.2.
- `test_name` (String) The name of the test.
- `use_ntlm` (Boolean) Enable to use basic authentication. Only include this field if you are using authentication. Requires the username and password to be set if enabled.
- `use_public_bgp` (Boolean) Enable to automatically add all available Public BGP Monitors to the test.
- `user_agent` (String) The user-agent string to be provided during the test.
- `username` (String) The username to be used to authenticate with the destination server.
- `verify_certificate` (Boolean) Set whether to ignore certificate errors. Set to 'false' to ignore certificate errors. The default value is 'true'.

### Read-Only

- `created_by` (String) Created by user.
- `created_date` (String) The date of creation.
- `id` (String) The ID of this resource.
- `labels` (Set of String, Deprecated) ["1", "2"] The array of labels.
- `link` (String) Its value is either a URI [RFC3986] or a URI template [RFC6570].
- `live_share` (Boolean) Set to 'true' for a test shared with your account group, or to 'false' for a normal test.
- `modified_by` (String) Last modified by this user.
- `modified_date` (String) The date the test was last modified. Shown in UTC.
- `saved_event` (Boolean) Set to 'true' for a saved event, or to 'false' for a normal test.
- `ssl_version` (String) Reflects the verbose ssl protocol version used by a test.
- `test_id` (String) The unique ID of the test.
- `type` (String) The type of test.

<a id="nestedblock--agent_interfaces"></a>
### Nested Schema for `agent_interfaces`

Optional:

- `agent_id` (String) The agent ID of the enterprise agent for the test.
- `ip_address` (String) IP address of the agent interface.


<a id="nestedblock--custom_headers"></a>
### Nested Schema for `custom_headers`

Optional:

- `all` (Map of String, Sensitive) Use these HTTP headers for all domains.
- `domains` (Map of String, Sensitive) Use these HTTP headers for the specified domains.
- `root` (Map of String, Sensitive) Use these HTTP headers for root server request.


<a id="nestedblock--oauth"></a>
### Nested Schema for `oauth`

Required:

- `config_id` (String) The ID of the OAuth configuration.
- `test_url` (String) Target for the test.

Optional:

- `auth_type` (String) [none, basic, ntlm, kerberos, oauth] The HTTP authentication type. Defaults to 'none'.
- `headers` (String, Sensitive) Request headers used for OAuth.
- `password` (String, Sensitive) OAuth password
- `post_body` (String) Enter the OAuth body for the HTTP POST request in this field when using OAuth as the authentication mechanism. No special escaping is required. If content is provided in the post body, the `requestMethod` is automatically set to POST.
- `request_method` (String) [get, post, put, delete, patch, options, trace] Request method.
- `username` (String) OAuth username

## Import
In Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) providing `resource_id`.
```terraform
import {
  to = thousandeyes_http_server.example_http_server_test
  id = "resource_id"
}
```

Using `terraform import` command.
```shell
terraform import thousandeyes_http_server.example_http_server_test resource_id
```
