---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "thousandeyes_agent_to_agent Resource - terraform-provider-thousandeyes"
subcategory: ""
description: |-
  
---

# thousandeyes_agent_to_agent (Resource)

This resource allows you to create and configure an agent-to-agent test. For more information about agent-to-agent tests, see [Agent-to-Agent Tests](https://docs.thousandeyes.com/product-documentation/internet-and-wan-monitoring/tests#agent-to-agent-test).

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `agents` (Block Set, Min: 1) The list of ThousandEyes Agents to use. See [Nested Schema](#nestedblock--agents).
- `direction` (String) [TO_TARGET, FROM_TARGET, BIDIRECTIONAL] Determines the direction of the test.
- `interval` (Number) The interval to run the test on, in seconds.
- `protocol` (String) [TCP or UDP] Defines the protocol for agent-to-agent tests. Default value is `TCP`.
- `target_agent_id` (Number) pull from /agents endpoint	Both the 'agents': [] and the targetAgentID cannot be cloud agents. Can be Enterprise Agent -> Cloud, Cloud -> Enterprise Agent, or Enterprise Agent -> Enterprise Agent
- `test_name` (String) The name of the agent-to-agent test.

### Optional

- `alert_rules` (Block Set) Defines the alert rules used by pulling the **ruleId** from the **/alert-rules** endpoint. If **alertsEnabled** is set to `true` and **alertRules** is not included in a creation/update query, the applicable defaults will be used. See [Nested Schema](#nestedblock--alert_rules).
- `alerts_enabled` (Boolean) Enable/disable alerts for the test. Default value is `true`.
- `bgp_measurements` (Boolean) Enable/disable BGP measurements.
- `bgp_monitors` (Block List) Defines the array of BGP monitor objects. See [Nested Schema](#nestedblock--bgp_monitors).
- `description` (String) Description of the agent-to-agent test. Default value is an empty string.
- `dscp_id` (Number) A Differentiated Services Code Point (DSCP) is a value found in an IP packet header which is used to request a level of priority for delivery (Defined in RFC 2474 https://www.ietf.org/rfc/rfc2474.txt). It is one of the Quality of Service management tools used in router configuration to protect real-time and high priority data applications.
- `enabled` (Boolean) Enable/disable the test. Default value is `true`.
- `groups` (Block List) Defines the array of label objects. See [Nested Schema](#nestedblock--groups).
- `mss` (Number) (30..1400)	Defines the maximum segment size, in bytes.
- `mtu_measurements` (Boolean) Measure MTU sizes on the network from agents to the target.
- `network_measurements` (Boolean) Enable/disable network measurements.
- `num_path_traces` (Number) Defines the number of path traces.
- `path_trace_mode` (String) [inSession or classic] Defines whether a path trace is run in a TCP session or not. Default value is `classic`. For more information, see [In Session Path Trace](https://docs.thousandeyes.com/archived-release-notes/2020/2020-07-release-notes#in-session-path-trace-mode-for-network-agent-to-agent-tests).
- `port` (Number) The target port.
- `shared_with_accounts` (Block List) Array of DNS Server objects {“serverName”: “fqdn of server”} (see [below for nested schema](#nestedblock--shared_with_accounts))
- `throughput_duration` (Number) Defaults to 10000
- `throughput_measurements` (Boolean) Enable/disable throughput measurements. This setting is not allowed when the source or target of the test is a Cloud Agent. Default value is `false`.
- `throughput_rate` (Number) Defines the throughput rate. Available for UDP tests only.
- `use_public_bgp` (Boolean) Automatically add all available public BGP monitors.

### Read-Only

- `api_links` (List of Object) Self links to endpoint to pull test metadata, and data links to endpoint for test data (see [below for nested schema](#nestedatt--api_links))
- `created_by` (String) created by user
- `created_date` (String) date of creation
- `dscp` (String) dscp  label
- `id` (String) The ID of this resource.
- `live_share` (Boolean) Set to 'true' for a test shared with your account group, or to 'false' for a normal test
- `modified_by` (String) Last modified by user
- `modified_date` (String) Last modified by date; shown in UTC
- `saved_event` (Boolean) Set to 'true' for a saved event, or to 'false' for a normal test.
- `test_id` (Number) Unique ID of test
- `type` (String) Type of test

<a id="nestedblock--agents"></a>
### Nested Schema for `agents`

Optional:

- `agent_id` (Number)
- `agent_name` (String)
- `agent_state` (String)
- `cluster_members` (Block List) (see [below for nested schema](#nestedblock--agents--cluster_members))
- `country_id` (String)
- `created_date` (String)
- `enabled` (Boolean)
- `error_details` (Block List) (see [below for nested schema](#nestedblock--agents--error_details))
- `groups` (Block List) (see [below for nested schema](#nestedblock--agents--groups))
- `hostname` (String)
- `ip_addresses` (List of String)
- `ipv6_policy` (String)
- `keep_browser_cache` (Boolean)
- `last_seen` (String)
- `location` (String)
- `network` (String)
- `prefix` (String)
- `target_for_tests` (String)
- `utilization` (Number)
- `verify_ssl_certificate` (Boolean)

Read-Only:

- `agent_type` (String)

<a id="nestedblock--agents--cluster_members"></a>
### Nested Schema for `agents.cluster_members`

Optional:

- `agent_state` (String)
- `ip_addresses` (List of String)
- `last_seen` (String)
- `member_id` (Number)
- `name` (String)
- `network` (String)
- `prefix` (String)
- `public_ip_addresses` (List of String)
- `target_for_tests` (String)
- `utilization` (Number)


<a id="nestedblock--agents--error_details"></a>
### Nested Schema for `agents.error_details`

Optional:

- `code` (String)
- `description` (String)


<a id="nestedblock--agents--groups"></a>
### Nested Schema for `agents.groups`

Optional:

- `builtin` (Number)
- `group_id` (Number)
- `name` (String)
- `type` (String)



<a id="nestedblock--alert_rules"></a>
### Nested Schema for `alert_rules`

Optional:

- `rule_id` (Number) Rule ID


<a id="nestedblock--bgp_monitors"></a>
### Nested Schema for `bgp_monitors`

Required:

- `monitor_id` (Number) Monitor ID

Optional:

- `ip_address` (String)
- `monitor_name` (String)
- `monitor_type` (String)
- `network` (String)


<a id="nestedblock--groups"></a>
### Nested Schema for `groups`

Required:

- `group_id` (Number) Unique ID of the label

Optional:

- `agents` (Block List) agents to use (see [below for nested schema](#nestedblock--groups--agents))
- `name` (String) Name of the label
- `tests` (Block List) List of tests (see [below for nested schema](#nestedblock--groups--tests))
- `type` (String) Type of label (tests, agents, endpoint_tests, or endpoint_agents

Read-Only:

- `builtin` (Boolean) Set to 'true' to use built-in labels, or to 'false' to use user-created labels. Note that built-in labels are read-only

<a id="nestedblock--groups--agents"></a>
### Nested Schema for `groups.agents`

Optional:

- `agent_id` (Number) agent id


<a id="nestedblock--groups--tests"></a>
### Nested Schema for `groups.tests`

Optional:

- `test_id` (Number) test id



<a id="nestedblock--shared_with_accounts"></a>
### Nested Schema for `shared_with_accounts`

Required:

- `aid` (Number) Account group ID

Optional:

- `name` (String) Name of account


<a id="nestedatt--api_links"></a>
### Nested Schema for `api_links`

Read-Only:

- `href` (String)
- `rel` (String)


